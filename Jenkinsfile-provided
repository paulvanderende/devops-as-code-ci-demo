pipeline {

    agent any

    stages {
        stage("Apply XLD") {
            steps {
                echo 'Applying XLD'
                withCredentials([usernamePassword(credentialsId: 'xld-credentials', usernameVariable: 'xld_username', passwordVariable: 'xld_password')]) {
                    sh "./xlw apply -v -f yaml/xld.yaml --xl-deploy-url http://xld:4516 --xl-deploy-username ${xld_username} --xl-deploy-password ${xld_password}"
                }
            }
        }
    }

}
